# Autodetect Generated Files

VS Code extension that automatically identifies and protects generated files by marking them as read-only.

## Features

- **Read-only Protection:** Automatically prevents accidental editing of generated files using VS Code's native read-only mechanism.
- **Regex Detection:** Scans the first 2KB of files for configurable patterns (e.g., `@autogenerated`).
- **Git Attributes:** Respects `.gitattributes` flags (e.g., `generated`, `gitlab-generated`).
- **Real-time Updates:** Automatically protects new or modified generated files on the fly.

## Configuration

| Setting | Default | Description |
| :--- | :--- | :--- |
| `autodetectGenerated.regexPatterns` | `["@autogenerated", "Generated by"]` | Regex patterns to match in file headers. |
| `autodetectGenerated.gitAttributes` | `["generated", "gitlab-generated", "linguist-generated"]` | `.gitattributes` keys to check. |
| `autodetectGenerated.excludePatterns` | `[]` | Glob patterns to exclude files from detection. |
| `autodetectGenerated.maxSearchLines` | `5` | Max lines to scan for headers. Set to `0` to disable line-based limiting. |
| `autodetectGenerated.maxSearchChars` | `1024` | Max characters to read from disk. Set to `0` to search the entire file. |

### How Search Limits Work
The extension uses both `maxSearchLines` and `maxSearchChars` as constraints:
1. It reads up to `maxSearchChars` from the file. If set to `0`, it reads the entire file.
2. If `maxSearchLines` is greater than `0`, it then truncates the text to that number of lines.
3. Regex patterns are matched against the resulting text.

To scan purely by character count, set `maxSearchLines` to `0`. To scan the entire file for patterns anywhere in the content, set both `maxSearchLines` and `maxSearchChars` to `0`.

## Usage

Files identified as generated will be automatically added to the `files.readonlyInclude` workspace setting. When you open a protected file, VS Code will display a lock icon and a warning bar indicating that the file is read-only.
